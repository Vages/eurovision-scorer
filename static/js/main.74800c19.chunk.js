(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),i=n(23),o=n.n(i),l=(n(73),n(74),n(13)),c=n.n(l),s=n(25),u=n(6),d=n(9),m=n(65),b=n(16),g=n(55),p=n(3),S={Afghanistan:"AF",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO",Bonaire:"BQ","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Democratic Republic of the Congo":"CD","Cook Islands":"CK","Costa Rica":"CR",Croatia:"HR",Cuba:"CU",Curacao:"CW",Cyprus:"CY","Czech Republic":"CZ","Cote d'Ivoire":"CI",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and McDonald Islands":"HM","Holy See (Vatican City State)":"VA",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID","Iran, Islamic Republic of":"IR",Iraq:"IQ",Ireland:"IE","Isle of Man":"IM",Israel:"IL",Italy:"IT","Jamaica\tJM\tJAM":"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea, Democratic People's Republic of  ":"KP","Korea, Republic of":"KR",Kuwait:"KW",Kyrgyzstan:"KG",Laos:"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO","North Macedonia":"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX","Micronesia, Federated States of":"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW",Palestine:"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA",Romania:"RO",Russia:"RU",Rwanda:"RW",Reunion:"RE","Saint Barthelemy":"BL","Saint Helena":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin (French part)":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG","Sint Maarten (Dutch part)":"SX",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS","South Sudan":"SS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY",Taiwan:"TW",Tajikistan:"TJ","United Republic of Tanzania":"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom":"GB","United States":"US","United States Minor Outlying Islands":"UM",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE","Viet Nam":"VN","British Virgin Islands":"VG","US Virgin Islands":"VI","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"},v=function(e){var a=e.name,n=e.onClick,t=e.disabled,i="flags/".concat(S[a].toLowerCase(),".png");return r.a.createElement("button",{type:"button",className:"nes-btn is-primary ".concat(t&&"is-disabled"),disabled:t,onClick:n},r.a.createElement("img",{src:i,className:"flag",alt:"Flag of ".concat(a)}),r.a.createElement("span",{className:"nes-text"},a))},E=n(36);n(76);E.initializeApp({apiKey:"AIzaSyDMXD0-q5wcY-YxL0CuIS86ibvQEeGpp8c",authDomain:"eurovision-voter.firebaseapp.com",databaseURL:"https://eurovision-voter.firebaseio.com",projectId:"eurovision-voter",storageBucket:"eurovision-voter.appspot.com",messagingSenderId:"685398369353",appId:"1:685398369353:web:d9f10d520a5cf65a"});var f=E.firestore(),h=["Malta","Albania","Czech Republic","Germany","Russia","Denmark","San Marino","North Macedonia","Sweden","Slovenia","Cyprus","Netherlands","Greece","Israel","Norway","United Kingdom","Iceland","Estonia","Belarus","Azerbaijan","France","Italy","Serbia","Switzerland","Australia","Spain"];function y(e){var a=function(e,a){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,a||"default");if("object"!==typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"===typeof a?a:String(a)}var M=function(){var e=Object(t.useState)([]),a=Object(p.a)(e,2),n=a[0],i=a[1],o=Object(t.useState)([12,10,8,7,6,5,4,3,2,1]),l=Object(p.a)(o,2),S=l[0],E=l[1],M=Object(t.useState)(""),N=Object(p.a)(M,2),O=N[0],C=N[1],I=Object(g.a)(S),j=I[0],A=I.slice(1),B=Object(t.useState)(!1),G=Object(p.a)(B,2),T=G[0],k=G[1],w=Object.values(n),P=!j,D=0===Object.keys(n).length;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,Object.entries(n).sort(function(e,a){return parseInt(e[0])-parseInt(a[0])}).reverse().map(function(e){var a=Object(p.a)(e,2),n=a[0],t=a[1];return r.a.createElement("tr",{key:n.toString()+t},r.a.createElement("td",null,n),r.a.createElement("td",null,t))})))),!T&&r.a.createElement("div",null,r.a.createElement("button",{disabled:D,className:"nes-btn is-error ".concat(D&&"is-disabled"),onClick:function(){if(n){var e=Math.min.apply(Math,Object(b.a)(Object.keys(n).map(function(e){return parseInt(e)}))),a=(n[e],Object(m.a)(n,[e].map(y)));E([e||0].concat(Object(b.a)(S))),i(a)}}},"Angre")),j&&r.a.createElement("div",null,r.a.createElement("em",null,j," points",r.a.createElement("br",null)," goes to")),j&&r.a.createElement("div",null,h.map(function(e){return r.a.createElement(v,{key:e,disabled:w.includes(e),onClick:function(){E(A),i(Object(d.a)({},n,Object(u.a)({},j,e)))},name:e})})),T?r.a.createElement("div",null,"Sendte inn!"):r.a.createElement(r.a.Fragment,null,P&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nes-field"},r.a.createElement("label",null,"Navnet ditt"),r.a.createElement("input",{value:O,onChange:function(e){return C(e.target.value)},className:"nes-input",type:"text"})),r.a.createElement("button",{className:"nes-btn is-primary ".concat(!O&&"is-disabled"),onClick:Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.collection("user-votes").add({userName:O,votes:n}).then(function(e){console.log("Document written with ID: ",e.id),k(!0)}).catch(function(e){console.error("Error adding document: ",e)});case 1:case"end":return e.stop()}},e)}))},"Send inn"))))},N=n(56),O=n(57),C=n(66),I=n(58),j=n(29),A=n(67),B=n(32),G=[12,10,8,7,6,5,4,3,2,1],T=function(){return h.map(function(e,a){return{id:"item-".concat(a),countryName:e}})},k=function(e){function a(e){var n;return Object(N.a)(this,a),(n=Object(C.a)(this,Object(I.a)(a).call(this,e))).state={items:T(),userName:"",postSucceeded:!1},n.onDragEnd=n.onDragEnd.bind(Object(j.a)(n)),n}return Object(A.a)(a,e),Object(O.a)(a,[{key:"onDragEnd",value:function(e){if(e.destination){var a=function(e,a,n){var t=Array.from(e),r=t.splice(a,1),i=Object(p.a)(r,1)[0];return t.splice(n,0,i),t}(this.state.items,e.source.index,e.destination.index);this.setState({items:a})}}},{key:"render",value:function(){var e=this,a=this.state,n=a.userName,t=a.items;return r.a.createElement("div",null,r.a.createElement("h1",{style:{margin:"1rem"}},"Eurovision-finale 2019"),r.a.createElement("div",{style:{textAlign:"left",margin:"1rem"}},r.a.createElement("p",null,"Dra og slipp landene i rekkef\xf8lge. Du trenger ikke sortere de som ikke f\xe5r poeng."),r.a.createElement("p",null,"Sveip til bunnen for \xe5 skrive inn kallenavn og sende inn poeng.")),r.a.createElement(B.a,{onDragEnd:this.onDragEnd},r.a.createElement(B.c,{droppableId:"droppable"},function(e,a){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,style:(n=a.isDraggingOver,{background:n?"lightblue":"lightgrey",padding:8,width:250,margin:"0 auto"})}),t.map(function(e,a){return r.a.createElement(B.b,{key:e.id,draggableId:e.id,index:a},function(n,t){var i,o,l="flags/".concat(S[e.countryName].toLowerCase(),".png");return r.a.createElement("div",{style:{marginBottom:"".concat(16,"px")}},r.a.createElement("div",Object.assign({className:"nes-container is-rounded",ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(i=t.isDragging,o=n.draggableProps.style,Object(d.a)({userSelect:"none",padding:8,background:i?"lightgreen":"lightblue"},o))}),r.a.createElement("div",null,r.a.createElement("img",{src:l,className:"flag",alt:"Flag of ".concat(e.countryName)}),e.countryName),G[a]&&r.a.createElement("div",{className:"nes-container is-rounded",style:{padding:"0.1rem",background:"#fff"}},G[a])))})}),e.placeholder);var n})),r.a.createElement("div",{style:{margin:"1rem"}},this.state.postSucceeded?r.a.createElement("div",null,"Sendte inn!"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nes-field",style:{margin:"1rem"}},r.a.createElement("label",null,"Navnet ditt"),r.a.createElement("input",{value:this.state.userName,onChange:function(a){return e.setState({userName:a.target.value})},className:"nes-input",type:"text"})),r.a.createElement("button",{className:"nes-btn is-primary ".concat(!n&&"is-disabled"),style:{marginBottom:"8rem"},onClick:Object(s.a)(c.a.mark(function a(){var r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=G.reduce(function(e,a,n){return Object(d.a)({},e,Object(u.a)({},a,t[n].countryName))},{}),f.collection("user-votes").add({userName:n,votes:r}).then(function(a){console.log("Document written with ID: ",a.id),e.setState({postSucceeded:!0})}).catch(function(e){console.error("Error adding document: ",e)});case 2:case"end":return a.stop()}},a)}))},"Send inn"))))}}]),a}(t.Component),w=function(){var e=Object(t.useState)([]),a=Object(p.a)(e,2),n=a[0],i=a[1],o=Object(t.useState)(0),l=Object(p.a)(o,2),c=l[0],s=l[1];Object(t.useEffect)(function(){f.collection("user-votes").get().then(function(e){var a=[];e.forEach(function(e){return a.push({userName:e.data().userName,votes:e.data().votes})}),i(a)})},[]);var m=n.reduce(function(e,a){try{return Object.entries(a.votes).map(function(e){var a=Object(p.a)(e,2),n=a[0];return[a[1],parseInt(n)]}).sort(function(e,a){return Object(p.a)(e,2)[1]-Object(p.a)(a,2)[1]}).reduce(function(e,n){var t=Object(p.a)(n,2),r=t[0],i=t[1];return e.myVoteStep>=c?e:Object(d.a)({},e,{voteTally:Object(d.a)({},e.voteTally,Object(u.a)({},r,(e.voteTally[r]||0)+i)),usersVotes:a.userName===e.votingUserName?Object(d.a)({},e.usersVotes,Object(u.a)({},r,i)):Object(u.a)({},r,i),myVoteStep:e.myVoteStep+1,votingUserName:a.userName})},e)}catch(n){return e}},{voteTally:h.reduce(function(e,a){return Object(d.a)({},e,Object(u.a)({},a,0))},{}),usersVotes:{},votingUserName:"",myVoteStep:0});return console.log(m),console.log(n),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,m.votingUserName),r.a.createElement("table",null,r.a.createElement("tbody",null,Object.entries(m.voteTally).sort(function(e,a){var n=Object(p.a)(e,2)[1];return Object(p.a)(a,2)[1]-n}).map(function(e){var a=Object(p.a)(e,2),n=a[0],t=a[1],i=m.usersVotes[n]===Math.max.apply(Math,Object(b.a)(Object.values(m.usersVotes)));return r.a.createElement("tr",{key:"".concat(n," ").concat(t)},r.a.createElement("td",null,n),r.a.createElement("td",{className:"nes-text ".concat(i&&"is-success")},m.usersVotes[n]||""),r.a.createElement("td",null,t))}))),r.a.createElement("button",{onClick:function(){return s(c-1)}},"Tilbake"),r.a.createElement("button",{onClick:function(){return s(c+1)}},"Neste"))},P=n(63),D=n(11),R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P.a,{basename:"/eurovision-scorer"},r.a.createElement(D.a,{path:"/",exact:!0,component:k}),r.a.createElement(D.a,{path:"/aoeu",component:w}),r.a.createElement(D.a,{path:"/old",component:M})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,a,n){e.exports=n(122)},73:function(e,a,n){},74:function(e,a,n){}},[[68,1,2]]]);
//# sourceMappingURL=main.74800c19.chunk.js.map